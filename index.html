<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>French Flashcard Game v1.2.2</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Montserrat', sans-serif;
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
  margin: 0;
  min-height: 100vh;
  position: relative;
}
h1 { margin-bottom: 20px; color: #333; }
.card {
  background: white;
  padding: 25px;
  border-radius: 14px;
  box-shadow: 0 6px 16px rgba(0,0,0,0.1);
  text-align: center;
  max-width: 500px;
  width: 100%;
  height: 300px;
  margin-bottom: 20px;
  opacity: 1;
  transition: opacity 0.4s ease, transform 0.4s ease;
  display: flex;
  flex-direction: column;
  justify-content: center;
  position: relative;
}
button {
  margin: 8px;
  padding: 12px 24px;
  border: none;
  border-radius: 8px;
  background: #0077cc;
  color: white;
  cursor: pointer;
  font-size: 16px;
  font-family: 'Montserrat', sans-serif;
  transition: background 0.3s, transform 0.2s;
}
button:hover { background: #005fa3; transform: scale(1.05); }
#display-word { 
  font-size: 38px; 
  font-weight: 700; 
  margin-bottom: 20px; 
  transition: opacity 0.3s ease; 
}
.version { position: fixed; bottom: 10px; right: 15px; font-size: 14px; color: #666; }
#score-card { text-align: center; }
#score-card button { margin-top: 10px; }
.submenu { display: flex; flex-direction: column; }
input { 
  font-size: 20px; 
  text-align:center; 
  border-radius:8px; 
  border:2px solid #ccc; 
  transition: background 0.3s, border-color 0.3s; 
  padding:8px; 
  margin-bottom: 15px;
}
input.correct { background:#e6ffe6; border-color:#2ecc71; }
input.incorrect { background:#ffe5e5; border-color:#e74c3c; }
.fade-out { opacity:0; transform: scale(0.95);}
.hint { 
  font-size: 14px; 
  color: #666; 
  margin-top: 10px; 
  margin-bottom: 15px;
}
</style>
</head>
<body>
<h1>French Flashcard Game</h1>

<!-- Main Menu -->
<div class="card" id="menu">
  <p>Select practice mode:</p>
  <button onclick="showSubMenu('fr-en')">French → English</button>
  <button onclick="showSubMenu('en-fr')">English → French</button>
  <button onclick="showSubMenu('mixed')">Mixed Practice</button>
</div>

<!-- Sub Menu -->
<div class="card submenu" id="submenu" style="display:none;">
  <p>Select category:</p>
  <button onclick="startGame(currentMode, 'subjects')">Subjects</button>
  <button onclick="startGame(currentMode, 'infinitives')">Infinitives</button>
  <button onclick="goBackToMain()">Back</button>
</div>

<!-- Game Card -->
<div class="card" id="game" style="display:none;">
  <div id="display-word"></div>
  <input type="text" id="answer" placeholder="Type your answer">
  <div class="hint">Hold Right Shift to peek translation</div>
  <button onclick="finishGame()">Finish</button>
</div>

<!-- Score -->
<div class="card" id="score-card" style="display:none;">
  <h2>Score</h2>
  <div id="score"></div>
  <button onclick="goBackToMain()">Back to Menu</button>
  <button onclick="resetAndPlayAgain()">Play Again</button>
</div>

<div class="version">1.2.2</div>

<script>
// Word Lists
const subjects = [
  { fr: "la pomme", en: "apple" },
  { fr: "le pain", en: "bread" },
  { fr: "le lait", en: "milk" },
  { fr: "le fromage", en: "cheese" },
  { fr: "le beurre", en: "butter" },
  { fr: "l'œuf", en: "egg" },
  { fr: "le riz", en: "rice" },
  { fr: "les pâtes", en: "pasta" },
  { fr: "la tomate", en: "tomato" },
  { fr: "la carotte", en: "carrot" },
  { fr: "la pomme de terre", en: "potato" },
  { fr: "le concombre", en: "cucumber" },
  { fr: "la salade", en: "lettuce" },
  { fr: "le citron", en: "lemon" },
  { fr: "l'orange", en: "orange" },
  { fr: "la banane", en: "banana" },
  { fr: "la fraise", en: "strawberry" },
  { fr: "le raisin", en: "grape" },
  { fr: "la cerise", en: "cherry" },
  { fr: "le chocolat", en: "chocolate" },
  { fr: "le gâteau", en: "cake" },
  { fr: "le biscuit", en: "cookie" },
  { fr: "la glace", en: "ice cream" },
  { fr: "le sucre", en: "sugar" },
  { fr: "le sel", en: "salt" },
  { fr: "le poivre", en: "pepper" },
  { fr: "la viande", en: "meat" },
  { fr: "le poulet", en: "chicken" },
  { fr: "le bœuf", en: "beef" },
  { fr: "le porc", en: "pork" },
  { fr: "le poisson", en: "fish" },
  { fr: "le saumon", en: "salmon" },
  { fr: "la crevette", en: "shrimp" },
  { fr: "le crabe", en: "crab" },
  { fr: "le homard", en: "lobster" },
  { fr: "la carafe", en: "carafe" },
  { fr: "la tasse", en: "cup" },
  { fr: "le verre", en: "glass" },
  { fr: "l'assiette", en: "plate" },
  { fr: "la fourchette", en: "fork" },
  { fr: "le couteau", en: "knife" },
  { fr: "la cuillère", en: "spoon" },
  { fr: "la table", en: "table" },
  { fr: "la chaise", en: "chair" },
  { fr: "le lit", en: "bed" },
  { fr: "le canapé", en: "sofa" },
  { fr: "le fauteuil", en: "armchair" },
  { fr: "la lampe", en: "lamp" },
  { fr: "la fenêtre", en: "window" },
  { fr: "la porte", en: "door" },
  { fr: "le mur", en: "wall" },
  { fr: "le sol", en: "floor" },
  { fr: "le plafond", en: "ceiling" },
  { fr: "le tapis", en: "rug" },
  { fr: "la cuisine", en: "kitchen" },
  { fr: "la salle de bain", en: "bathroom" },
  { fr: "la douche", en: "shower" },
  { fr: "la baignoire", en: "bathtub" },
  { fr: "le miroir", en: "mirror" },
  { fr: "le lavabo", en: "sink" },
  { fr: "les toilettes", en: "toilet" },
  { fr: "le placard", en: "cupboard" },
  { fr: "le frigo", en: "fridge" },
  { fr: "le four", en: "oven" },
  { fr: "le micro-ondes", en: "microwave" },
  { fr: "la cuisinière", en: "stove" },
  { fr: "la casserole", en: "saucepan" },
  { fr: "la poêle", en: "frying pan" },
  { fr: "le panier", en: "basket" },
  { fr: "le sac", en: "bag" },
  { fr: "le sac à dos", en: "backpack" },
  { fr: "la valise", en: "suitcase" },
  { fr: "la clé", en: "key" },
  { fr: "le téléphone", en: "phone" },
  { fr: "l'ordinateur", en: "computer" },
  { fr: "le clavier", en: "keyboard" },
  { fr: "la souris", en: "mouse" },
  { fr: "l'écran", en: "screen" },
  { fr: "la télévision", en: "television" },
  { fr: "la télécommande", en: "remote control" },
  { fr: "le casque", en: "headset" },
  { fr: "le chargeur", en: "charger" },
  { fr: "le câble", en: "cable" },
  { fr: "la voiture", en: "car" },
  { fr: "le vélo", en: "bicycle" },
  { fr: "la moto", en: "motorcycle" },
  { fr: "le bus", en: "bus" },
  { fr: "le train", en: "train" },
  { fr: "l'avion", en: "airplane" },
  { fr: "le bateau", en: "boat" },
  { fr: "le parc", en: "park" },
  { fr: "la forêt", en: "forest" },
  { fr: "la montagne", en: "mountain" },
  { fr: "la rivière", en: "river" },
  { fr: "le lac", en: "lake" },
  { fr: "la mer", en: "sea" },
  { fr: "l'océan", en: "ocean" },
  { fr: "la plage", en: "beach" },
  { fr: "le soleil", en: "sun" },
  { fr: "la lune", en: "moon" },
  { fr: "l'étoile", en: "star" },
  { fr: "le vent", en: "wind" },
  { fr: "la pluie", en: "rain" },
  { fr: "la neige", en: "snow" },
  { fr: "le nuage", en: "cloud" },
  { fr: "le ciel", en: "sky" },
  { fr: "le jardin", en: "garden" },
  { fr: "le fruit", en: "fruit" },
  { fr: "le légume", en: "vegetable" },
  { fr: "la fleur", en: "flower" },
  { fr: "l'arbre", en: "tree" },
  { fr: "la feuille", en: "leaf" },
  { fr: "la graine", en: "seed" },
  { fr: "la racine", en: "root" },
  { fr: "le tronc", en: "trunk" },
  { fr: "la branche", en: "branch" },
  { fr: "le bois", en: "wood" },
  { fr: "la pierre", en: "stone" },
  { fr: "le métal", en: "metal" },
  { fr: "le plastique", en: "plastic" },
  { fr: "le tissu", en: "cloth" },
  { fr: "le papier", en: "paper" },
  { fr: "le carton", en: "cardboard" },
  { fr: "la peinture", en: "paint" },
  { fr: "la couleur", en: "color" },
  { fr: "le pinceau", en: "paintbrush" },
  { fr: "le crayon", en: "pencil" },
  { fr: "le stylo", en: "pen" },
  { fr: "le cahier", en: "notebook" },
  { fr: "le livre", en: "book" },
  { fr: "la feuille de papier", en: "sheet of paper" },
  { fr: "le journal", en: "newspaper" },
  { fr: "le magazine", en: "magazine" },
  { fr: "la carte", en: "map" },
  { fr: "le billet", en: "ticket" },
  { fr: "la monnaie", en: "coins" },
  { fr: "le billet de banque", en: "banknote" },
  { fr: "le portefeuille", en: "wallet" },
  { fr: "la montre", en: "watch" },
  { fr: "le bijou", en: "jewel" },
  { fr: "la bague", en: "ring" },
  { fr: "le collier", en: "necklace" },
  { fr: "le bracelet", en: "bracelet" },
  { fr: "la chaussure", en: "shoe" },
  { fr: "la chaussette", en: "sock" },
  { fr: "le pantalon", en: "trousers" },
  { fr: "la jupe", en: "skirt" },
  { fr: "la chemise", en: "shirt" },
  { fr: "le t-shirt", en: "t-shirt" },
  { fr: "le manteau", en: "coat" },
  { fr: "la veste", en: "jacket" },
  { fr: "le chapeau", en: "hat" },
  { fr: "le gant", en: "glove" },
  { fr: "l'écharpe", en: "scarf" },
  { fr: "le parapluie", en: "umbrella" },
  { fr: "le sac à main", en: "handbag" },
  { fr: "la valise", en: "suitcase" },
  { fr: "le temps", en: "time" },
  { fr: "l'heure", en: "hour" },
  { fr: "la minute", en: "minute" },
  { fr: "la seconde", en: "second" },
  { fr: "le jour", en: "day" },
  { fr: "la semaine", en: "week" },
  { fr: "le mois", en: "month" },
  { fr: "l'année", en: "year" },
  { fr: "le siècle", en: "century" },
  { fr: "le matin", en: "morning" },
  { fr: "l'après-midi", en: "afternoon" },
  { fr: "le soir", en: "evening" },
  { fr: "la nuit", en: "night" },
  { fr: "lundi", en: "Monday" },
  { fr: "mardi", en: "Tuesday" },
  { fr: "mercredi", en: "Wednesday" },
  { fr: "jeudi", en: "Thursday" },
  { fr: "vendredi", en: "Friday" },
  { fr: "samedi", en: "Saturday" },
  { fr: "dimanche", en: "Sunday" },
  { fr: "janvier", en: "January" },
  { fr: "février", en: "February" },
  { fr: "mars", en: "March" },
  { fr: "avril", en: "April" },
  { fr: "mai", en: "May" },
  { fr: "juin", en: "June" },
  { fr: "juillet", en: "July" },
  { fr: "août", en: "August" },
  { fr: "septembre", en: "September" },
  { fr: "octobre", en: "October" },
  { fr: "novembre", en: "November" },
  { fr: "décembre", en: "December" },
  { fr: "le printemps", en: "spring" },
  { fr: "l'été", en: "summer" },
  { fr: "l'automne", en: "autumn" },
  { fr: "l'hiver", en: "winter" },
  { fr: "la famille", en: "family" },
  { fr: "le père", en: "father" },
  { fr: "la mère", en: "mother" },
  { fr: "le fils", en: "son" },
  { fr: "la fille", en: "daughter" },
  { fr: "le frère", en: "brother" },
  { fr: "la sœur", en: "sister" },
  { fr: "le grand-père", en: "grandfather" },
  { fr: "la grand-mère", en: "grandmother" },
  { fr: "l'ami", en: "friend" },
  { fr: "la personne", en: "person" },
  { fr: "l'homme", en: "man" },
  { fr: "la femme", en: "woman" },
  { fr: "l'enfant", en: "child" },
  { fr: "le bébé", en: "baby" },
  { fr: "l'école", en: "school" },
  { fr: "l'université", en: "university" },
  { fr: "le professeur", en: "teacher" },
  { fr: "l'élève", en: "student" },
  { fr: "la classe", en: "class" },
  { fr: "le cours", en: "lesson" },
  { fr: "l'examen", en: "exam" },
  { fr: "la question", en: "question" },
  { fr: "la réponse", en: "answer" },
  { fr: "le problème", en: "problem" },
  { fr: "la solution", en: "solution" },
  { fr: "le travail", en: "work" },
  { fr: "le métier", en: "job" },
  { fr: "le docteur", en: "doctor" },
  { fr: "l'infirmier", en: "nurse" },
  { fr: "l'ingénieur", en: "engineer" },
  { fr: "le chef", en: "chef" },
  { fr: "le musicien", en: "musician" },
  { fr: "l'artiste", en: "artist" },
  { fr: "l'écrivain", en: "writer" },
  { fr: "le sport", en: "sport" },
  { fr: "le jeu", en: "game" },
  { fr: "le football", en: "soccer" },
  { fr: "le basketball", en: "basketball" },
  { fr: "le tennis", en: "tennis" },
  { fr: "la natation", en: "swimming" },
  { fr: "la danse", en: "dance" },
  { fr: "la musique", en: "music" },
  { fr: "la chanson", en: "song" },
  { fr: "le film", en: "movie" },
  { fr: "le livre", en: "book" },
  { fr: "l'histoire", en: "history" },
  { fr: "la science", en: "science" },
  { fr: "la mathématique", en: "mathematics" },
  { fr: "la géographie", en: "geography" },
  { fr: "la langue", en: "language" },
  { fr: "le pays", en: "country" },
  { fr: "la ville", en: "city" },
  { fr: "le village", en: "village" },
  { fr: "la rue", en: "street" },
  { fr: "la place", en: "square" },
  { fr: "le bâtiment", en: "building" },
  { fr: "la maison", en: "house" },
  { fr: "l'appartement", en: "apartment" },
  { fr: "la chambre", en: "room" },
  { fr: "la cuisine", en: "kitchen" },
  { fr: "la salle à manger", en: "dining room" },
  { fr: "le salon", en: "living room" },
  { fr: "la salle de bain", en: "bathroom" },
  { fr: "la chambre à coucher", en: "bedroom" },
  { fr: "le garage", en: "garage" },
  { fr: "le jardin", en: "garden" },
  { fr: "la piscine", en: "pool" },
  { fr: "l'hôtel", en: "hotel" },
  { fr: "le restaurant", en: "restaurant" },
  { fr: "le café", en: "cafe" },
  { fr: "le magasin", en: "shop" },
  { fr: "le supermarché", en: "supermarket" },
  { fr: "le marché", en: "market" },
  { fr: "l'argent", en: "money" },
  { fr: "le prix", en: "price" },
  { fr: "le coût", en: "cost" },
  { fr: "la valeur", en: "value" },
  { fr: "le cadeau", en: "gift" },
  { fr: "la fête", en: "party" },
  { fr: "le mariage", en: "wedding" },
  { fr: "l'anniversaire", en: "birthday" },
  { fr: "Noël", en: "Christmas" },
  { fr: "Pâques", en: "Easter" },
  { fr: "la religion", en: "religion" },
  { fr: "la culture", en: "culture" },
  { fr: "la tradition", en: "tradition" },
  { fr: "la coutume", en: "custom" },
  { fr: "la liberté", en: "freedom" },
  { fr: "la justice", en: "justice" },
  { fr: "la paix", en: "peace" },
  { fr: "la guerre", en: "war" },
  { fr: "l'amour", en: "love" },
  { fr: "la haine", en: "hate" },
  { fr: "la joie", en: "joy" },
  { fr: "la tristesse", en: "sadness" },
  { fr: "la peur", en: "fear" },
  { fr: "la colère", en: "anger" },
  { fr: "le bonheur", en: "happiness" },
  { fr: "le malheur", en: "misfortune" },
  { fr: "la chance", en: "luck" },
  { fr: "le rêve", en: "dream" },
  { fr: "la réalité", en: "reality" },
  { fr: "l'imagination", en: "imagination" },
  { fr: "la pensée", en: "thought" },
  { fr: "l'idée", en: "idea" },
  { fr: "la connaissance", en: "knowledge" },
  { fr: "l'ignorance", en: "ignorance" },
  { fr: "la vérité", en: "truth" },
  { fr: "le mensonge", en: "lie" },
  { fr: "la beauté", en: "beauty" },
  { fr: "la laideur", en: "ugliness" },
  { fr: "la santé", en: "health" },
  { fr: "la maladie", en: "illness" },
  { fr: "la vie", en: "life" },
  { fr: "la mort", en: "death" },
  { fr: "le commencement", en: "beginning" },
  { fr: "la fin", en: "end" },
  { fr: "le changement", en: "change" },
  { fr: "la stabilité", en: "stability" },
  { fr: "le progrès", en: "progress" },
  { fr: "le recul", en: "setback" },
  { fr: "le succès", en: "success" },
  { fr: "l'échec", en: "failure" },
  { fr: "l'espoir", en: "hope" },
  { fr: "le désespoir", en: "despair" },
  { fr: "le courage", en: "courage" },
  { fr: "la lâcheté", en: "cowardice" },
  { fr: "la force", en: "strength" },
  { fr: "la faiblesse", en: "weakness" },
  { fr: "la confiance", en: "confidence" },
  { fr: "le doute", en: "doubt" },
  { fr: "la patience", en: "patience" },
  { fr: "l'impatience", en: "impatience" },
  { fr: "la gentillesse", en: "kindness" },
  { fr: "la méchanceté", en: "meanness" },
  { fr: "la générosité", en: "generosity" },
  { fr: "l'égoïsme", en: "selfishness" },
  { fr: "l'honnêteté", en: "honesty" },
  { fr: "la malhonnêteté", en: "dishonesty" },
  { fr: "l'intelligence", en: "intelligence" },
  { fr: "la stupidité", en: "stupidity" },
  { fr: "la sagesse", en: "wisdom" },
  { fr: "la folie", en: "madness" },
  { fr: "la simplicité", en: "simplicity" },
  { fr: "la complexité", en: "complexity" },
  { fr: "la clarté", en: "clarity" },
  { fr: "la confusion", en: "confusion" },
  { fr: "l'ordre", en: "order" },
  { fr: "le désordre", en: "disorder" },
  { fr: "la propreté", en: "cleanliness" },
  { fr: "la saleté", en: "dirtiness" },
  { fr: "le bruit", en: "noise" },
  { fr: "le silence", en: "silence" },
  { fr: "la lumière", en: "light" },
  { fr: "l'obscurité", en: "darkness" },
  { fr: "le chaud", en: "heat" },
  { fr: "le froid", en: "cold" },
  { fr: "le sec", en: "dry" },
  { fr: "l'humide", en: "wet" },
  { fr: "le dur", en: "hard" },
  { fr: "le mou", en: "soft" },
  { fr: "le lourd", en: "heavy" },
  { fr: "le léger", en: "light" },
  { fr: "le rapide", en: "fast" },
  { fr: "le lent", en: "slow" },
  { fr: "le vieux", en: "old" },
  { fr: "le nouveau", en: "new" },
  { fr: "le jeune", en: "young" },
  { fr: "le grand", en: "big" },
  { fr: "le petit", en: "small" },
  { fr: "le long", en: "long" },
  { fr: "le court", en: "short" },
  { fr: "le large", en: "wide" },
  { fr: "l'étroit", en: "narrow" },
  { fr: "le haut", en: "high" },
  { fr: "le bas", en: "low" },
  { fr: "le profond", en: "deep" },
  { fr: "le superficiel", en: "shallow" },
  { fr: "le plein", en: "full" },
  { fr: "le vide", en: "empty" },
  { fr: "le nombreux", en: "many" },
  { fr: "le peu", en: "few" },
  { fr: "le tout", en: "all" },
  { fr: "le rien", en: "nothing" },
  { fr: "le quelque chose", en: "something" },
  { fr: "le quelqu'un", en: "someone" },
  { fr: "le personne", en: "nobody" },
  { fr: "le chacun", en: "each" },
  { fr: "le certain", en: "certain" },
  { fr: "l'incertain", en: "uncertain" },
  { fr: "le possible", en: "possible" },
  { fr: "l'impossible", en: "impossible" },
  { fr: "le nécessaire", en: "necessary" },
  { fr: "l'inutile", en: "useless" },
  { fr: "l'important", en: "important" },
  { fr: "le sans importance", en: "unimportant" },
  { fr: "le facile", en: "easy" },
  { fr: "le difficile", en: "difficult" },
  { fr: "le simple", en: "simple" },
  { fr: "le compliqué", en: "complicated" },
  { fr: "le clair", en: "clear" },
  { fr: "l'obscur", en: "obscure" },
  { fr: "le précis", en: "precise" },
  { fr: "le vague", en: "vague" },
  { fr: "le vrai", en: "true" },
  { fr: "le faux", en: "false" },
  { fr: "le correct", en: "correct" },
  { fr: "l'incorrect", en: "incorrect" },
  { fr: "le bon", en: "good" },
  { fr: "le mauvais", en: "bad" },
  { fr: "le meilleur", en: "best" },
  { fr: "le pire", en: "worst" },
  { fr: "le beau", en: "beautiful" },
  { fr: "le laid", en: "ugly" }
];

const infinitives = [
  { fr: "faire", en: "to do" },
  { fr: "jouer", en: "to play" },
  { fr: "manger", en: "to eat" },
  { fr: "aller", en: "to go" },
  { fr: "voir", en: "to see" },
  { fr: "avoir", en: "to have" },
  { fr: "être", en: "to be" },
  { fr: "dire", en: "to say" },
  { fr: "pouvoir", en: "to be able to" },
  { fr: "vouloir", en: "to want" },
  { fr: "savoir", en: "to know" },
  { fr: "prendre", en: "to take" },
  { fr: "venir", en: "to come" },
  { fr: "mettre", en: "to put" },
  { fr: "trouver", en: "to find" },
  { fr: "donner", en: "to give" },
  { fr: "parler", en: "to speak" },
  { fr: "aimer", en: "to like" },
  { fr: "penser", en: "to think" },
  { fr: "demander", en: "to ask" },
  { fr: "travailler", en: "to work" },
  { fr: "attendre", en: "to wait" },
  { fr: "croire", en: "to believe" },
  { fr: "entendre", en: "to hear" },
  { fr: "rendre", en: "to give back" },
  { fr: "connaître", en: "to know (someone)" },
  { fr: "vivre", en: "to live" },
  { fr: "sortir", en: "to go out" },
  { fr: "entrer", en: "to enter" },
  { fr: "partir", en: "to leave" },
  { fr: "arriver", en: "to arrive" },
  { fr: "rester", en: "to stay" },
  { fr: "retourner", en: "to return" },
  { fr: "tomber", en: "to fall" },
  { fr: "passer", en: "to pass/spend (time)" },
  { fr: "porter", en: "to carry/wear" },
  { fr: "ouvrir", en: "to open" },
  { fr: "fermer", en: "to close" },
  { fr: "écrire", en: "to write" },
  { fr: "lire", en: "to read" },
  { fr: "apprendre", en: "to learn" },
  { fr: "comprendre", en: "to understand" },
  { fr: "envoyer", en: "to send" },
  { fr: "recevoir", en: "to receive" },
  { fr: "répondre", en: "to answer" },
  { fr: "écouter", en: "to listen" },
  { fr: "regarder", en: "to watch" },
  { fr: "jouer", en: "to play" },
  { fr: "danser", en: "to dance" },
  { fr: "chanter", en: "to sing" },
  { fr: "courir", en: "to run" },
  { fr: "marcher", en: "to walk" },
  { fr: "nager", en: "to swim" },
  { fr: "dormir", en: "to sleep" },
  { fr: "rêver", en: "to dream" },
  { fr: "se réveiller", en: "to wake up" },
  { fr: "se lever", en: "to get up" },
  { fr: "se coucher", en: "to go to bed" },
  { fr: "s’habiller", en: "to get dressed" },
  { fr: "se déshabiller", en: "to undress" },
  { fr: "se laver", en: "to wash oneself" },
  { fr: "se brosser", en: "to brush" },
  { fr: "se doucher", en: "to shower" },
  { fr: "cuisiner", en: "to cook" },
  { fr: "préparer", en: "to prepare" },
  { fr: "boire", en: "to drink" },
  { fr: "acheter", en: "to buy" },
  { fr: "payer", en: "to pay" },
  { fr: "vendre", en: "to sell" },
  { fr: "utiliser", en: "to use" },
  { fr: "tirer", en: "to pull" },
  { fr: "pousser", en: "to push" },
  { fr: "monter", en: "to go up" },
  { fr: "descendre", en: "to go down" },
  { fr: "construire", en: "to build" },
  { fr: "casser", en: "to break" },
  { fr: "laver", en: "to wash" },
  { fr: "nettoyer", en: "to clean" },
  { fr: "couper", en: "to cut" },
  { fr: "cacher", en: "to hide" },
  { fr: "montrer", en: "to show" },
  { fr: "garder", en: "to keep" },
  { fr: "changer", en: "to change" },
  { fr: "trouver", en: "to find" },
  { fr: "perdre", en: "to lose" },
  { fr: "gagner", en: "to win/earn" },
  { fr: "rire", en: "to laugh" },
  { fr: "sourire", en: "to smile" },
  { fr: "pleurer", en: "to cry" },
  { fr: "aider", en: "to help" },
  { fr: "espérer", en: "to hope" },
  { fr: "attendre", en: "to wait" },
  { fr: "commencer", en: "to begin" },
  { fr: "finir", en: "to finish" },
  { fr: "continuer", en: "to continue" },
  { fr: "arrêter", en: "to stop" },
  { fr: "jouir", en: "to enjoy" },
  { fr: "servir", en: "to serve" },
  { fr: "protéger", en: "to protect" },
  { fr: "chercher", en: "to search/look for" },
  { fr: "expliquer", en: "to explain" },
  { fr: "étudier", en: "to study" },
  { fr: "enseigner", en: "to teach" },
  { fr: "montrer", en: "to show" },
  { fr: "organiser", en: "to organize" },
  { fr: "se rappeler", en: "to remember" },
  { fr: "oublier", en: "to forget" },
  { fr: "réussir", en: "to succeed" },
  { fr: "échouer", en: "to fail" },
  { fr: "vivre", en: "to live" },
  { fr: "mourir", en: "to die" },
  { fr: "naître", en: "to be born" },
  { fr: "grandir", en: "to grow up" },
  { fr: "se marier", en: "to get married" },
  { fr: "divorcer", en: "to divorce" },
  { fr: "s’amuser", en: "to have fun" },
  { fr: "s’ennuyer", en: "to get bored" },
  { fr: "voyager", en: "to travel" },
  { fr: "visiter", en: "to visit" },
  { fr: "habiter", en: "to live (somewhere)" },
  { fr: "conduire", en: "to drive" },
  { fr: "voler", en: "to fly/steal" },
  { fr: "marchander", en: "to bargain" },
  { fr: "supporter", en: "to tolerate" },
  { fr: "détester", en: "to hate" },
  { fr: "adorer", en: "to adore" },
  { fr: "sentir", en: "to smell/feel" },
  { fr: "toucher", en: "to touch" },
  { fr: "gouter", en: "to taste" },
  { fr: "choisir", en: "to choose" },
  { fr: "préférer", en: "to prefer" },
  { fr: "obtenir", en: "to obtain" },
  { fr: "apporter", en: "to bring" },
  { fr: "emporter", en: "to take away" },
  { fr: "remettre", en: "to put back" },
  { fr: "emprunter", en: "to borrow" },
  { fr: "prêter", en: "to lend" },
  { fr: "discuter", en: "to discuss" },
  { fr: "argumenter", en: "to argue" },
  { fr: "se disputer", en: "to quarrel" },
  { fr: "téléphoner", en: "to call (phone)" },
  { fr: "envoyer", en: "to send" },
  { fr: "texter", en: "to text" },
  { fr: "publier", en: "to publish/post" },
  { fr: "cliquer", en: "to click" },
  { fr: "naviguer", en: "to browse" },
  { fr: "sauvegarder", en: "to save (files)" },
  { fr: "imprimer", en: "to print" },
  { fr: "jouer aux cartes", en: "to play cards" },
  { fr: "jouer aux jeux vidéo", en: "to play video games" },
  { fr: "dessiner", en: "to draw" },
  { fr: "peindre", en: "to paint" },
  { fr: "photographier", en: "to photograph" },
  { fr: "filmer", en: "to film" },
  { fr: "coudre", en: "to sew" },
  { fr: "tricoter", en: "to knit" },
  { fr: "bricoler", en: "to tinker" },
  { fr: "jardiner", en: "to garden" },
  { fr: "planter", en: "to plant" },
  { fr: "arroser", en: "to water" },
  { fr: "réparer", en: "to repair" },
  { fr: "déplacer", en: "to move (something)" },
  { fr: "se déplacer", en: "to move around" },
  { fr: "attacher", en: "to attach" },
  { fr: "détacher", en: "to detach" },
  { fr: "fermer", en: "to shut" },
  { fr: "ouvrir", en: "to open" },
  { fr: "installer", en: "to install" },
  { fr: "charger", en: "to load/charge" },
  { fr: "décharger", en: "to unload" },
  { fr: "cacher", en: "to hide" },
  { fr: "montrer", en: "to show" },
  { fr: "allumer", en: "to turn on" },
  { fr: "éteindre", en: "to turn off" },
  { fr: "brûler", en: "to burn" },
  { fr: "fondre", en: "to melt" },
  { fr: "geler", en: "to freeze" }
];


// State
let currentMode="", currentCategory="", currentCard=null, askInFrench=true;
let score=0;
let remainingCards=[];

// Menus
function showSubMenu(mode){
  currentMode=mode; 
  document.getElementById("menu").classList.add("fade-out"); 
  setTimeout(()=>{
    document.getElementById("menu").style.display="none"; 
    document.getElementById("submenu").style.display="block"; 
    document.getElementById("menu").classList.remove("fade-out");
  },300);
}

function goBackToMain(){
  document.getElementById("submenu").style.display="none";
  document.getElementById("score-card").style.display="none";
  document.getElementById("menu").style.display="block";
}

function startGame(mode,category){
  currentMode=mode; 
  currentCategory=category; 
  score=0;
  remainingCards = [...(category==='infinitives'?infinitives:subjects)];
  document.getElementById("submenu").classList.add("fade-out"); 
  setTimeout(()=>{
    document.getElementById("submenu").style.display="none"; 
    document.getElementById("game").style.display="block"; 
    document.getElementById("submenu").classList.remove("fade-out");
    nextWord();
  },300);
}

// Next Word
function nextWord(){
  if(remainingCards.length===0){
    finishGame(); 
    return;
  }
  const answerBox=document.getElementById("answer");
  answerBox.value=""; 
  answerBox.className=""; 
  answerBox.focus();
  const idx=Math.floor(Math.random()*remainingCards.length); 
  currentCard=remainingCards.splice(idx,1)[0];
  askInFrench = currentMode==='fr-en'?true:currentMode==='en-fr'?false:Math.random()<0.5;
  document.getElementById("display-word").textContent = askInFrench?currentCard.fr:currentCard.en;
}

// Input Handling
document.getElementById("answer").addEventListener("input",function(){
  const answerBox=document.getElementById("answer");
  let correct = askInFrench?currentCard.en:currentCard.fr; 
  let val=answerBox.value.trim();
  
  if(val === "") {
    answerBox.className = "";
    return;
  }
  
  if(val.toLowerCase()===correct.toLowerCase()){
    answerBox.className="correct"; 
    score++; 
    setTimeout(nextWord,300);
  }
  else if(val.length>=correct.length){
    answerBox.className="incorrect";
  }
});

// Right Shift Peek - Improved with smooth animation
let peekTimeout;
document.addEventListener("keydown", function(e){
  if(e.code==="ShiftRight" && currentCard){
    clearTimeout(peekTimeout);
    document.getElementById("display-word").style.opacity = 0;
    
    peekTimeout = setTimeout(() => {
      document.getElementById("display-word").textContent = askInFrench?currentCard.en:currentCard.fr;
      document.getElementById("display-word").style.opacity = 1;
    }, 150);
  }
});

document.addEventListener("keyup", function(e){
  if(e.code==="ShiftRight" && currentCard){
    clearTimeout(peekTimeout);
    document.getElementById("display-word").style.opacity = 0;
    
    peekTimeout = setTimeout(() => {
      document.getElementById("display-word").textContent = askInFrench?currentCard.fr:currentCard.en;
      document.getElementById("display-word").style.opacity = 1;
    }, 150);
  }
});

// Finish
function finishGame(){
  document.getElementById("game").classList.add("fade-out"); 
  setTimeout(()=>{
    document.getElementById("game").style.display="none"; 
    document.getElementById("score-card").style.display="block"; 
    document.getElementById("game").classList.remove("fade-out");
    document.getElementById("score").textContent=`${score} correct out of ${(currentCategory==='infinitives'?infinitives:subjects).length}`;
  },300);
}

// Fixed Play Again function
function resetAndPlayAgain() {
  document.getElementById("score-card").classList.add("fade-out");
  setTimeout(() => {
    document.getElementById("score-card").style.display = "none";
    document.getElementById("score-card").classList.remove("fade-out");
    startGame(currentMode, currentCategory);
  }, 300);
}
</script>
</body>
</html>
